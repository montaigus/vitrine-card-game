<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
   <head>      
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

	<title>Le jeu de la Vitrine</title>
</head>
<body>
	<button id='clickme'>Tire une carte !</button>
</body>
<script type="text/javascript">
	console.log('√ßa marche');
  
  const colors = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
  const powers = [];

  for(let i = 0; i <= 12; i++) {
    powers[i] = i+1;
  }

  // g√©n√©rateur de cartes
  const cardGenerator = (color, power) => {
    const specials = ['Valet', 'Dame', 'Roi', 'Joker'];
    
    let name = power;

    if (power > 10) {
      name = specials[power-11];
    }

    return {
      color,
      power,
      name
    };
  };

  // g√©n√©rateur de joueur  
  const playerGenerator = (name) => {
    return {
      name,
      hand:[],
      vitrine:[],
      playing:false,
    }
  }

  // g√©n√©rateur de deck
  const deckGenerator = () => {
    
    let deck = [];

    // map sur chaque couleur pour cr√©er ses cartes
    colors.map(color => {
      // map sur chaque pouvoir pour cette couleur
      const completePart = powers.map(power => {
        return deck.push(cardGenerator(color, power));
      });
    });
    
    // ajouter les jokers
    deck.push(cardGenerator('ü§°', 14));
    deck.push(cardGenerator('ü§°', 14));

    return deck;
  };

  const completeDeck = deckGenerator();
  
  const shuffledDeck = completeDeck.sort(() => 0.5 - Math.random());

  

  const distributeToHand = (player) => {
    player.hand.push(completeDeck.pop()); 
  }

  console.table(shuffledDeck);

  const bouton = document.querySelector('button[id="clickme"]');
  bouton.addEventListener('click', () => {
    const cardIndex = parseInt(Math.random() * 54 + 1);

    const card = completeDeck[cardIndex];

    alert(`Tu as tir√©: ${card.name} ${card.power === 14 ? `!!!` : `de`} ${card.color}`);
  });
    
  
</script>
</html>
